(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-860f3626"],{"04f8":function(e,t,n){var r=n("2d00"),o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"06cf":function(e,t,n){var r=n("83ab"),o=n("c65b"),c=n("d1e7"),i=n("5c6c"),a=n("fc6a"),s=n("a04b"),u=n("1a2d"),l=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=s(t),l)try{return d(e,t)}catch(n){}if(u(e,t))return i(!o(c.f,e,t),e[t])}},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),c=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a}))},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"13d2":function(e,t,n){var r=n("e330"),o=n("d039"),c=n("1626"),i=n("1a2d"),a=n("83ab"),s=n("5e77").CONFIGURABLE,u=n("8925"),l=n("69f3"),d=l.enforce,p=l.get,f=String,b=Object.defineProperty,h=r("".slice),m=r("".replace),v=r([].join),x=a&&!o((function(){return 8!==b((function(){}),"length",{value:8}).length})),y=String(String).split("String"),O=e.exports=function(e,t,n){"Symbol("===h(f(t),0,7)&&(t="["+m(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(a?b(e,"name",{value:t,configurable:!0}):e.name=t),x&&n&&i(n,"arity")&&e.length!==n.arity&&b(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?a&&b(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=d(e);return i(r,"source")||(r.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=O((function(){return c(this)&&p(this).source||u(this)}),"toString")},"14d9":function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),c=n("07fa"),i=n("3a34"),a=n("3511"),s=n("d039"),u=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!l();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=o(this),n=c(t),r=arguments.length;a(n+r);for(var s=0;s<r;s++)t[n]=arguments[s],n++;return i(t,n),n}})},1626:function(e,t,n){var r=n("8ea1"),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},"1a2d":function(e,t,n){var r=n("e330"),o=n("7b0b"),c=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return c(o(e),t)}},"1d80":function(e,t,n){var r=n("7234"),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},"23cb":function(e,t,n){var r=n("5926"),o=Math.max,c=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):c(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,c=n("9112"),i=n("cb2d"),a=n("6374"),s=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,d,p,f,b,h=e.target,m=e.global,v=e.stat;if(l=m?r:v?r[h]||a(h,{}):(r[h]||{}).prototype,l)for(d in t){if(f=t[d],e.dontCallGetSet?(b=o(l,d),p=b&&b.value):p=l[d],n=u(m?d:h+(v?".":"#")+d,e.forced),!n&&void 0!==p){if(typeof f==typeof p)continue;s(f,p)}(e.sham||p&&p.sham)&&c(f,"sham",!0),i(l,d,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),c=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,c)}},"2d00":function(e,t,n){var r,o,c=n("da84"),i=n("342f"),a=c.process,s=c.Deno,u=a&&a.versions||s&&s.version,l=u&&u.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(r=i.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},"342f":function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t){var n=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw n("Maximum allowed index exceeded");return e}},"3a34":function(e,t,n){"use strict";var r=n("83ab"),o=n("e8b5"),c=TypeError,i=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!i(e,"length").writable)throw c("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"44ad":function(e,t,n){var r=n("e330"),o=n("d039"),c=n("c6b6"),i=Object,a=r("".split);e.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(e){return"String"==c(e)?a(e,""):i(e)}:i},"485a":function(e,t,n){var r=n("c65b"),o=n("1626"),c=n("861d"),i=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!c(a=r(n,e)))return a;if(o(n=e.valueOf)&&!c(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!c(a=r(n,e)))return a;throw i("Can't convert object to primitive value")}},"4d64":function(e,t,n){var r=n("fc6a"),o=n("23cb"),c=n("07fa"),i=function(e){return function(t,n,i){var a,s=r(t),u=c(s),l=o(i,u);if(e&&n!=n){while(u>l)if(a=s[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"50c4":function(e,t,n){var r=n("5926"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.27.2",mode:r?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),o=n("e330"),c=n("241c"),i=n("7418"),a=n("825a"),s=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=c.f(a(e)),n=i.f;return n?s(t,n(e)):t}},5926:function(e,t,n){var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"59ed":function(e,t,n){var r=n("1626"),o=n("0d51"),c=TypeError;e.exports=function(e){if(r(e))return e;throw c(o(e)+" is not a function")}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,n){var r=n("83ab"),o=n("1a2d"),c=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,a=o(c,"name"),s=a&&"something"===function(){}.name,u=a&&(!r||r&&i(c,"name").configurable);e.exports={EXISTS:a,PROPER:s,CONFIGURABLE:u}},6374:function(e,t,n){var r=n("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"69f3":function(e,t,n){var r,o,c,i=n("cdce"),a=n("da84"),s=n("861d"),u=n("9112"),l=n("1a2d"),d=n("c6cd"),p=n("f772"),f=n("d012"),b="Object already initialized",h=a.TypeError,m=a.WeakMap,v=function(e){return c(e)?o(e):r(e,{})},x=function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw h("Incompatible receiver, "+e+" required");return n}};if(i||d.state){var y=d.state||(d.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw h(b);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},c=function(e){return y.has(e)}}else{var O=p("state");f[O]=!0,r=function(e,t){if(l(e,O))throw h(b);return t.facade=e,u(e,O,t),t},o=function(e){return l(e,O)?e[O]:{}},c=function(e){return l(e,O)}}e.exports={set:r,get:o,has:c,enforce:v,getterFor:x}},7234:function(e,t){e.exports=function(e){return null===e||void 0===e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80"),o=Object;e.exports=function(e){return o(r(e))}},"825a":function(e,t,n){var r=n("861d"),o=String,c=TypeError;e.exports=function(e){if(r(e))return e;throw c(o(e)+" is not an object")}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"861d":function(e,t,n){var r=n("1626"),o=n("8ea1"),c=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===c}:function(e){return"object"==typeof e?null!==e:r(e)}},8925:function(e,t,n){var r=n("e330"),o=n("1626"),c=n("c6cd"),i=r(Function.toString);o(c.inspectSource)||(c.inspectSource=function(e){return i(e)}),e.exports=c.inspectSource},"8ea1":function(e,t){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:r}},"90e3":function(e,t,n){var r=n("e330"),o=0,c=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+c,36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),c=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,c(1,n))}:function(e,t,n){return e[t]=n,e}},"94ca":function(e,t,n){var r=n("d039"),o=n("1626"),c=/#|\.prototype\./,i=function(e,t){var n=s[a(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(c,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";e.exports=i},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),c=n("aed9"),i=n("825a"),a=n("a04b"),s=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?c?function(e,t,n){if(i(e),t=a(t),i(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=l(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(i(e),t=a(t),i(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw s("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a04b:function(e,t,n){var r=n("c04e"),o=n("d9b5");e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},aed9:function(e,t,n){var r=n("83ab"),o=n("d039");e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b42e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},b622:function(e,t,n){var r=n("da84"),o=n("5692"),c=n("1a2d"),i=n("90e3"),a=n("04f8"),s=n("fdbf"),u=r.Symbol,l=o("wks"),d=s?u["for"]||u:u&&u.withoutSetter||i;e.exports=function(e){return c(l,e)||(l[e]=a&&c(u,e)?u[e]:d("Symbol."+e)),l[e]}},b632:function(e,t,n){"use strict";n.r(t);var r=n("7a23");const o={class:"p-4"},c=Object(r["createElementVNode"])("section",{class:"my-2"},[Object(r["createElementVNode"])("h2",{class:"font-bold text-xl my-2"},"EmailCounter")],-1),i=Object(r["createElementVNode"])("h2",{class:"font-bold text-lg my-2"},"NestedCounter",-1),a=Object(r["createElementVNode"])("h2",{class:"font-bold text-lg my-2"},"SpanCounter",-1),s={class:"py-4"},u=Object(r["createElementVNode"])("span",{class:"text"},"restart",-1),l=Object(r["createElementVNode"])("span",{class:"text"},"reset",-1),d=Object(r["createElementVNode"])("span",{class:"text"},"start",-1),p=Object(r["createElementVNode"])("span",{class:"text"},"continuum",-1),f=Object(r["createElementVNode"])("section",{class:"my-2"},[Object(r["createElementVNode"])("h2",{class:"font-bold text-xl my-2"},"OTPCounter")],-1),b=Object(r["createElementVNode"])("h2",{class:"font-bold text-lg my-2"},"BaseSumCounter",-1),h=Object(r["createElementVNode"])("h2",{class:"font-bold text-lg my-2"},"NestedCounter",-1),m=Object(r["createElementVNode"])("h2",{class:"font-bold text-lg my-2"},"SpanCounter",-1),v={class:"py-4"},x=Object(r["createElementVNode"])("span",{class:"text"},"restart",-1),y=Object(r["createElementVNode"])("span",{class:"text"},"reset",-1),O=Object(r["createElementVNode"])("span",{class:"text"},"start",-1),g=Object(r["createElementVNode"])("span",{class:"text"},"continuum",-1),C=Object(r["createElementVNode"])("br",null,null,-1),j=Object(r["createElementVNode"])("br",null,null,-1),E=Object(r["createElementVNode"])("br",null,null,-1);function S(e,t,n,S,w,N){const T=Object(r["resolveComponent"])("van-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])("section",o,[c,i,Object(r["createElementVNode"])("pre",null,"counter        : "+Object(r["toDisplayString"])(e.emailCounterText),1),Object(r["createElementVNode"])("pre",null,"retires        : "+Object(r["toDisplayString"])(e.emailCounter.state.retries),1),Object(r["createElementVNode"])("pre",null,"max retries    : "+Object(r["toDisplayString"])(e.emailCounter.state.maxTimes),1),Object(r["createElementVNode"])("pre",null,"exceed retries : "+Object(r["toDisplayString"])(e.emailCounter.hasExceedMaxRetries.value),1),Object(r["createElementVNode"])("pre",null,"enabled        : "+Object(r["toDisplayString"])(e.emailCounter.counterEnabled),1),a,Object(r["createElementVNode"])("pre",null,"counter     : "+Object(r["toDisplayString"])(e.emailSubCounterText),1),Object(r["createElementVNode"])("pre",null,"retires     : "+Object(r["toDisplayString"])(e.emailCounter.nestedCounter.state.retries),1),Object(r["createElementVNode"])("pre",null,"max retries : "+Object(r["toDisplayString"])(e.emailCounter.nestedCounter.state.maxTimes),1),Object(r["createElementVNode"])("pre",null,"exceed retries : "+Object(r["toDisplayString"])(e.emailCounter.nestedCounter.hasExceedMaxRetries.value),1),Object(r["createElementVNode"])("pre",null,"enabled        : "+Object(r["toDisplayString"])(e.emailCounter.nestedCounter.counterEnabled),1),Object(r["createElementVNode"])("section",s,[Object(r["createVNode"])(T,{onClick:e.restart},{default:Object(r["withCtx"])(()=>[u]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.reset},{default:Object(r["withCtx"])(()=>[l]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.start},{default:Object(r["withCtx"])(()=>[d]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.continuum},{default:Object(r["withCtx"])(()=>[p]),_:1},8,["onClick"])]),f,b,Object(r["createElementVNode"])("pre",null,"counter        : "+Object(r["toDisplayString"])(e.otpCounterText),1),Object(r["createElementVNode"])("pre",null,"retires        : "+Object(r["toDisplayString"])(e.otpCounter.state.retries),1),Object(r["createElementVNode"])("pre",null,"max retries    : "+Object(r["toDisplayString"])(e.otpCounter.state.maxTimes),1),Object(r["createElementVNode"])("pre",null,"exceed retries : "+Object(r["toDisplayString"])(e.otpCounter.hasExceedMaxRetries.value),1),Object(r["createElementVNode"])("pre",null,"enabled        : "+Object(r["toDisplayString"])(e.otpCounter.counterEnabled),1),h,Object(r["createElementVNode"])("pre",null,"counter     : "+Object(r["toDisplayString"])(e.otpSubCounterText),1),Object(r["createElementVNode"])("pre",null,"retires     : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.state.retries),1),Object(r["createElementVNode"])("pre",null,"max retries : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.state.maxTimes),1),Object(r["createElementVNode"])("pre",null,"exceed retries : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.hasExceedMaxRetries.value),1),Object(r["createElementVNode"])("pre",null,"enabled        : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.counterEnabled),1),m,Object(r["createElementVNode"])("pre",null,"counter     : "+Object(r["toDisplayString"])(e.otpSubSubCounterText),1),Object(r["createElementVNode"])("pre",null,"retires     : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.nestedCounter.state.retries),1),Object(r["createElementVNode"])("pre",null,"max retries : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.nestedCounter.state.maxTimes),1),Object(r["createElementVNode"])("pre",null,"exceed retries : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.nestedCounter.hasExceedMaxRetries.value),1),Object(r["createElementVNode"])("pre",null,"enabled        : "+Object(r["toDisplayString"])(e.otpCounter.nestedCounter.nestedCounter.counterEnabled),1),Object(r["createElementVNode"])("section",v,[Object(r["createVNode"])(T,{onClick:e.otp_restart},{default:Object(r["withCtx"])(()=>[x]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.otp_reset},{default:Object(r["withCtx"])(()=>[y]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.otp_start},{default:Object(r["withCtx"])(()=>[O]),_:1},8,["onClick"]),Object(r["createVNode"])(T,{onClick:e.otp_continuum},{default:Object(r["withCtx"])(()=>[g]),_:1},8,["onClick"])]),C,j,E])}n("14d9");class w{type(e,t){var n;return(null===(n=null===e||void 0===e?void 0:e.constructor)||void 0===n?void 0:n.name)==t}true(e){return!0===e}array(e){return"object"===typeof e&&(void 0!==e.length&&null!==e.length&&"number"===typeof e)}string(e){return"string"==typeof e}number(e){return"number"==typeof e}undefined(e,t=!1){return t?void 0==typeof e||"undefined"==e:void 0==e}null(e,t=!1){return t&&"null"===e||null==e}initialized(e){return!this.null(e)&&!this.undefined(e)}empty(e){if(void 0===e||null===e)return!0;if(0===e||!1===e||!0===e)return!1;if("object"===typeof e){const t=Object.getOwnPropertyNames(e);return t.includes("length")?0===e.length:"Object"===e.constructor.name&&0==t.length}return!e}get not(){return V}get mobile(){var e;return null!==(e=w._mobile)&&void 0!==e?e:w._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}const N=new w;class T{type(e,t){return!N.type(e,t)}undefined(e,t=!1){return!N.undefined(e,t)}null(e,t=!1){return!N.null(e,t)}initialized(e){return!N.initialized(e)}empty(e){return!N.empty(e)}array(e){return!N.array(e)}string(e){return!N.string(e)}}const V=new T;class D{constructor(){D.ALL_TIMEOUTS.push(this)}static clearAll(){D.ALL_TIMEOUTS.forEach(e=>{e.clear()})}set(e,t,...n){this.clear(),this.id=setInterval(e,t,n)}clear(){N.not.undefined(this.id)&&(clearTimeout(this.id),this.id=void 0)}}D.ALL_TIMEOUTS=[];class M{constructor(e){const t={counterLBound:void 0,counterRBound:void 0};this.interval=null!==e&&void 0!==e?e:1e3,this.state=Object(r["reactive"])(t),this.counter=new D,this.counterEnabled=Object(r["computed"])(()=>{const e=this.state.counterLBound,t=this.state.counterRBound,n=N.initialized(t)&&N.initialized(e);return n&&t>e}),this.currentCounter=Object(r["computed"])(()=>{var e;return this.counterEnabled.value?Math.floor(((null!==(e=this.state.counterRBound)&&void 0!==e?e:0)-this.state.counterLBound)/1e3+.5):0}),console.log("ReactiveCounter:",t)}set(e){this.state.counterLBound=e,this.afterSet(e)}start(e){this.state.counterLBound=new Date(Date.now()).getTime(),this.state.counterRBound=this.state.counterLBound+1e3*e,this.set(this.state.counterLBound),this.counter.clear(),this.counter.set(e=>{this.set(new Date(Date.now()).getTime()),this.counterEnabled.value||(console.log("clear timeout since not enabled"),this.cancel()),this.state.counterRBound<=this.state.counterLBound&&(console.log("clear timeout since timer already finished"),this.cancel())},this.interval),console.log("start counter, lbound:",this.state.counterLBound,"rbound:",this.state.counterRBound,this)}continue(){if(this.counterEnabled.value){this.state.counterLBound=new Date(Date.now()).getTime();const e=this.currentCounter.value;this.start(e)}}cancel(){this.state.counterLBound=void 0,this.state.counterRBound=void 0,this.counter.clear(),this.afterCancel()}}class P{constructor(e){this.option=e;const{unwrapRef:t,omits:n,pick:o,storage:c,storeIdent:i,loadOnInitialize:a,defaults:s}=e,u=Object.keys(t);this.propsToWatch=[],N.initialized(n)?this.propsToWatch=u.filter(e=>!n.includes(e)):N.initialized(o)&&(this.propsToWatch=u.filter(e=>o.includes(e))),a&&this.propsToWatch.forEach(n=>{var r,o,c;try{const i=null!==(o=null!==(r=this.getItem(n))&&void 0!==r?r:null===s||void 0===s?void 0:s[n])&&void 0!==o?o:void 0;t[n]=i,null===(c=e.onLoadVal)||void 0===c||c.call(e,n,i)}catch(i){t[n]=void 0}}),this.propsToWatch.forEach(e=>{Object(r["watch"])(()=>t[e],()=>{const n=t[e];c.setItem(`${i}_${e}`,JSON.stringify(n))})})}getPropKey(e){return`${this.option.storeIdent}_${e}`}getItem(e){try{return JSON.parse(this.option.storage.getItem(this.getPropKey(e)))}catch(t){return}}clearAll(){this.propsToWatch.forEach(e=>{this.clearProp(e)})}clearProp(e){this.option.storage.removeItem(this.getPropKey(e))}}function R(e){return new P(e)}const _=1/0;var B;(function(e){e[e["counting"]=0]="counting",e[e["startNewCount"]=1]="startNewCount",e[e["exceedMaxRetries"]=2]="exceedMaxRetries"})(B||(B={}));class L extends M{constructor(e){super(),this._onStart=e=>{},0==e.maxTimes&&(e.maxTimes=_),this.storeKey=e.storeKey;const t=this.state,n={maxTimes:e.maxTimes,span:e.span,retries:0,counterLBound:t.counterLBound,counterRBound:t.counterRBound};this.state=Object(r["reactive"])(n),this.hasExceedMaxRetries=Object(r["computed"])(()=>{this.state.retries,this.state.maxTimes;return this.state.retries==_||this.state.retries>this.state.maxTimes}),this.canStartNewCount=Object(r["computed"])(()=>this.state.retries<this.state.maxTimes),this.watchPropertyChange()}retry(){return this.state.retries++,this.hasExceedMaxRetries.value?(console.log("ban span counter, since hasExceedMaxRetries"),this.didExceedMaxRetries(),this._onStart(B.exceedMaxRetries),[B.exceedMaxRetries]):(console.log("start counter",this.constructor.name),this.canStartNewSpan()&&super.start(this.state.span),this._onStart(B.startNewCount),[B.startNewCount])}start(){return this.counterEnabled.value?(console.log("continue span counter, since not completed yet"),this._onStart(B.counting),[B.counting]):this.retry()}onStart(e,t=!0){this._onStart=e}continue(){if(this.counterEnabled.value){this.state.counterLBound=new Date(Date.now()).getTime();const e=this.currentCounter.value;super.start(e)}}reset(){return new Promise((e,t)=>{const n=Object(r["watch"])(this.state,()=>{n(),this.cancel(),console.log("unwatch reset"),e(!0)});n(),this.state.retries=0,this.cancel()})}cancel(){this.state.counterLBound=void 0,this.state.counterRBound=void 0,this.counter.clear(),this.afterCancel()}canStartNewSpan(){return!0}watchPropertyChange(){const{maxTimes:e,span:t,retries:n}=this.state;console.warn("watchAndStore:",this.storeKey),R({loadOnInitialize:!0,omits:[],storage:localStorage,storeIdent:this.storeKey,unwrapRef:this.state,defaults:{maxTimes:e,span:t,retries:n}})}didExceedMaxRetries(){const e=new Date(Date.now()).getTime(),t=e<this.state.counterRBound;console.log("didExceedMaxRetries",t,e,this.state.counterRBound),this.state.retries=Math.max(this.state.maxTimes+1,this.state.retries),this.counterEnabled.value}}class k extends L{constructor(e){var t;super({maxTimes:e.maxTimes,span:e.period,storeKey:e.storeKey}),this.countNested=!1,this.nestedCounter=e.nestedCounter,this.countNested=null!==(t=e.countNested)&&void 0!==t&&t}start(){let e=super.start();if(e[0]==B.exceedMaxRetries)return e;let t=this.nestedCounter.start();const n=e[0]==B.startNewCount&&t[0]==B.exceedMaxRetries;e[0]==B.counting&&(t[0],B.exceedMaxRetries);n&&(this.nestedCounter.reset(),t=this.nestedCounter.start());const r=[...e,...t];return this.countNested&&-1!=r.slice(1).indexOf(B.startNewCount)&&this.onCountNestedCounter(r),r}onCountNestedCounter(e){const t=e[e.length-1];t==B.startNewCount&&(this.hasExceedMaxRetries.value?this.didExceedMaxRetries():this.retry())}didExceedMaxRetries(){super.didExceedMaxRetries(),this.nestedCounter.didExceedMaxRetries()}async reset(){this.nestedCounter.reset(),super.reset()}continue(){this.nestedCounter.continue(),super.continue()}cancel(){this.nestedCounter.cancel(),super.cancel()}canStartNewSpan(){return!0}}class I extends k{constructor(e){super(e),this.nestedCounter=e.nestedCounter,this.countNested=!0}onCountNestedCounter(e){super.onCountNestedCounter(e)}}class A extends L{constructor(e="EmailSpanCounter"){super({maxTimes:2,span:10,storeKey:e})}afterCancel(){}afterSet(e){}}class z extends k{constructor(e="EmailCounter"){super({maxTimes:3,period:30,nestedCounter:new A,storeKey:e}),console.log("Period:",this.state.span,"option:")}afterCancel(){}afterSet(e){}}class K extends L{constructor(e="VerifOTPSpanCounter"){super({maxTimes:3,span:10,storeKey:e})}afterCancel(){}afterSet(e){}}class F extends k{constructor(e="VerifyOTPPeriodCounter"){super({maxTimes:0,period:180,nestedCounter:new K,storeKey:e})}afterCancel(){}afterSet(e){}}class $ extends I{constructor(e="VerifyOTPCounter"){super({maxTimes:9,period:3600,nestedCounter:new F,storeKey:e})}afterCancel(){}afterSet(e){}}var W=Object(r["defineComponent"])({name:"CounterDemo",components:{},setup(){const e=new z,t=new $,n=Object(r["computed"])(()=>{const t=e.currentCounter.value,n=e.counterEnabled.value;return n?`(${t})`:""}),o=Object(r["computed"])(()=>{const t=e.nestedCounter.currentCounter.value,n=e.nestedCounter.counterEnabled.value;return n?`(${t})`:""}),c=Object(r["computed"])(()=>{const e=t.currentCounter.value,n=t.counterEnabled.value;return n?`(${e})`:""}),i=Object(r["computed"])(()=>{const e=t.nestedCounter.currentCounter.value,n=t.nestedCounter.counterEnabled.value;return n?`(${e})`:""}),a=Object(r["computed"])(()=>{const e=t.nestedCounter.nestedCounter.currentCounter.value,n=t.nestedCounter.counterEnabled.value;return n?`(${e})`:""}),s=e=>{console.group("MOUNT"),e.counterEnabled.value?(console.log("continue"),e.continue()):e.hasExceedMaxRetries.value?(console.log("restart..."),e.reset(),e.start()):(console.log("start"),e.start()),console.groupEnd()};return window.counter=e,Object(r["onMounted"])(()=>{s(e),s(t)}),{emailCounter:e,otpCounter:t,emailCounterText:n,emailSubCounterText:o,otpCounterText:c,otpSubCounterText:i,otpSubSubCounterText:a,restart(){e.reset(),e.start()},reset(){e.reset()},start(){e.start()},continuum(){e.continue()},otp_restart(){t.reset(),t.start()},otp_reset(){t.reset()},otp_start(){t.start()},otp_continuum(){t.continue()}}}}),U=n("6b0d"),J=n.n(U);const G=J()(W,[["render",S]]);t["default"]=G},c04e:function(e,t,n){var r=n("c65b"),o=n("861d"),c=n("d9b5"),i=n("dc4a"),a=n("485a"),s=n("b622"),u=TypeError,l=s("toPrimitive");e.exports=function(e,t){if(!o(e)||c(e))return e;var n,s=i(e,l);if(s){if(void 0===t&&(t="default"),n=r(s,e,t),!o(n)||c(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c430:function(e,t){e.exports=!1},c65b:function(e,t,n){var r=n("40d5"),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},c6b6:function(e,t,n){var r=n("e330"),o=r({}.toString),c=r("".slice);e.exports=function(e){return c(o(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("6374"),c="__core-js_shared__",i=r[c]||o(c,{});e.exports=i},ca84:function(e,t,n){var r=n("e330"),o=n("1a2d"),c=n("fc6a"),i=n("4d64").indexOf,a=n("d012"),s=r([].push);e.exports=function(e,t){var n,r=c(e),u=0,l=[];for(n in r)!o(a,n)&&o(r,n)&&s(l,n);while(t.length>u)o(r,n=t[u++])&&(~i(l,n)||s(l,n));return l}},cb2d:function(e,t,n){var r=n("1626"),o=n("9bf2"),c=n("13d2"),i=n("6374");e.exports=function(e,t,n,a){a||(a={});var s=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&c(n,u,a),a.global)s?e[t]=n:i(t,n);else{try{a.unsafe?e[t]&&(s=!0):delete e[t]}catch(l){}s?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),c=r.document,i=o(c)&&o(c.createElement);e.exports=function(e){return i?c.createElement(e):{}}},cdce:function(e,t,n){var r=n("da84"),o=n("1626"),c=r.WeakMap;e.exports=o(c)&&/native code/.test(String(c))},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),o=n("1626"),c=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?c(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!r.call({1:2},1);t.f=c?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d9b5:function(e,t,n){var r=n("d066"),o=n("1626"),c=n("3a9b"),i=n("fdbf"),a=Object;e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&c(t.prototype,a(e))}},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc4a:function(e,t,n){var r=n("59ed"),o=n("7234");e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},e330:function(e,t,n){var r=n("40d5"),o=Function.prototype,c=o.call,i=r&&o.bind.bind(c,c);e.exports=r?i:function(e){return function(){return c.apply(e,arguments)}}},e893:function(e,t,n){var r=n("1a2d"),o=n("56ef"),c=n("06cf"),i=n("9bf2");e.exports=function(e,t,n){for(var a=o(t),s=i.f,u=c.f,l=0;l<a.length;l++){var d=a[l];r(e,d)||n&&r(n,d)||s(e,d,u(t,d))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),c=r("keys");e.exports=function(e){return c[e]||(c[e]=o(e))}},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbf:function(e,t,n){var r=n("04f8");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}]);